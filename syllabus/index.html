<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>E155 FA23 - Course Syllabus</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">E155 FA23</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../syllabus/"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-labs" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Labs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-labs">    
        <li>
    <a class="dropdown-item" href="../lab/">
 <span class="dropdown-text">Labs Overview</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lab/specs/">
 <span class="dropdown-text">Lab Specs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lab/lab1/">
 <span class="dropdown-text">Lab 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lab/lab2/">
 <span class="dropdown-text">Lab 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lab/lab3/">
 <span class="dropdown-text">Lab 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lab/lab4/">
 <span class="dropdown-text">Lab 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lab/lab5/">
 <span class="dropdown-text">Lab 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lab/lab6/">
 <span class="dropdown-text">Lab 6</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lab/lab7/">
 <span class="dropdown-text">Lab 7</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../lecture/"> 
<span class="menu-text">Lecture</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../project/"> 
<span class="menu-text">Project</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../resources/"> 
<span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-tutorials" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Tutorials</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-tutorials">    
        <li>
    <a class="dropdown-item" href="../tutorials/video-tutorials/">
 <span class="dropdown-text">Video Tutorials</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../tutorials/lattice_radiant_installation/">
 <span class="dropdown-text">Lattice Radiant Installation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../tutorials/lattice_radiant_ice40_ultraplus_project_setup/">
 <span class="dropdown-text">ice40 Project Setup</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../tutorials/modelsim_simulation_tutorial/">
 <span class="dropdown-text">ModelSim Tutorial</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../tutorials/segger_embedded_studio_setup">
 <span class="dropdown-text">SEGGER Embedded Studio Tutorial</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#microprocessor-based-systems-e155" id="toc-microprocessor-based-systems-e155" class="nav-link active" data-scroll-target="#microprocessor-based-systems-e155">Microprocessor-based Systems (E155)</a>
  <ul class="collapse">
  <li><a href="#contact-information" id="toc-contact-information" class="nav-link" data-scroll-target="#contact-information">Contact Information</a></li>
  <li><a href="#course-meeting-schedule" id="toc-course-meeting-schedule" class="nav-link" data-scroll-target="#course-meeting-schedule">Course Meeting Schedule</a></li>
  <li><a href="#communication-policy" id="toc-communication-policy" class="nav-link" data-scroll-target="#communication-policy">Communication Policy</a></li>
  <li><a href="#course-learning-objectives" id="toc-course-learning-objectives" class="nav-link" data-scroll-target="#course-learning-objectives">Course Learning Objectives</a></li>
  <li><a href="#teaching-philosophy" id="toc-teaching-philosophy" class="nav-link" data-scroll-target="#teaching-philosophy">Teaching Philosophy</a>
  <ul class="collapse">
  <li><a href="#prof.-brake" id="toc-prof.-brake" class="nav-link" data-scroll-target="#prof.-brake">Prof.&nbsp;Brake</a></li>
  </ul></li>
  <li><a href="#schedule" id="toc-schedule" class="nav-link" data-scroll-target="#schedule">Schedule</a></li>
  <li><a href="#recommended-texts" id="toc-recommended-texts" class="nav-link" data-scroll-target="#recommended-texts">Recommended Texts</a></li>
  <li><a href="#grading" id="toc-grading" class="nav-link" data-scroll-target="#grading">Grading</a>
  <ul class="collapse">
  <li><a href="#tokens" id="toc-tokens" class="nav-link" data-scroll-target="#tokens">Tokens</a></li>
  </ul></li>
  <li><a href="#course-policies" id="toc-course-policies" class="nav-link" data-scroll-target="#course-policies">Course Policies</a>
  <ul class="collapse">
  <li><a href="#ai-policy" id="toc-ai-policy" class="nav-link" data-scroll-target="#ai-policy">AI Policy</a></li>
  </ul></li>
  <li><a href="#lab-kit" id="toc-lab-kit" class="nav-link" data-scroll-target="#lab-kit">Lab Kit</a></li>
  <li><a href="#lab-access" id="toc-lab-access" class="nav-link" data-scroll-target="#lab-access">Lab Access</a></li>
  <li><a href="#honor-code-violations" id="toc-honor-code-violations" class="nav-link" data-scroll-target="#honor-code-violations">Honor Code Violations</a></li>
  <li><a href="#honor-code-policy" id="toc-honor-code-policy" class="nav-link" data-scroll-target="#honor-code-policy">Honor Code Policy</a></li>
  <li><a href="#inclusiveness-and-harassment" id="toc-inclusiveness-and-harassment" class="nav-link" data-scroll-target="#inclusiveness-and-harassment">Inclusiveness and Harassment</a></li>
  <li><a href="#educational-accessibility" id="toc-educational-accessibility" class="nav-link" data-scroll-target="#educational-accessibility">Educational Accessibility</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Course Syllabus</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="microprocessor-based-systems-e155" class="level1">
<h1>Microprocessor-based Systems (E155)</h1>
<section id="contact-information" class="level2">
<h2 class="anchored" data-anchor-id="contact-information">Contact Information</h2>
<table class="table">
<thead>
<tr class="header">
<th>Item</th>
<th>Information</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Instructors:</td>
<td>Prof.&nbsp;Josh Brake, Prof.&nbsp;Tina Smilkstein</td>
</tr>
<tr class="even">
<td>Lab Assistant(s):</td>
<td>TBD</td>
</tr>
<tr class="odd">
<td>Web page:</td>
<td><a href="http://pages.hmc.edu/brake/class/e155/" class="uri">http://pages.hmc.edu/brake/class/e155/</a></td>
</tr>
<tr class="even">
<td>Lab Checkoff Sheet:</td>
<td><a href="?var:checkoff-gsheet-url">Sheet Link</a></td>
</tr>
<tr class="odd">
<td>Email list:</td>
<td>eng-155 [at] g.hmc.edu</td>
</tr>
<tr class="even">
<td>Discord Server:</td>
<td>See email for invite</td>
</tr>
</tbody>
</table>
<p>Be sure to join the class Discord and check it regularly as it will be the main source of course-related communication for this semester.</p>
</section>
<section id="course-meeting-schedule" class="level2">
<h2 class="anchored" data-anchor-id="course-meeting-schedule">Course Meeting Schedule</h2>
<table class="table">
<colgroup>
<col style="width: 19%">
<col style="width: 80%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Name</strong></th>
<th><strong>Info</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Lecture</td>
<td>TR 1:15 - 2:30 pm</td>
</tr>
<tr class="even">
<td>Lab Checkoff</td>
<td>TR afternoons by signup in the Digital Lab (PA B183)</td>
</tr>
<tr class="odd">
<td>Office Hours</td>
<td>Prof.&nbsp;Brake: Monday 1:10-2:00 p (Digital Lab) &amp; by appointment<br>
Prof.&nbsp;Smilkstein: TBD</td>
</tr>
</tbody>
</table>
<p>You will be working on labs on your own time and it is not required that you attend the entire scheduled lab period. Instead, sign up for a time to get your lab checked off. Please sign up for a time during your lab section. If you are unable to find a spot that works for you, see if you can swap with one of your classmates. If you are still having trouble finding a time that works for you, reach out and let me know.</p>
<p>“Office hours” is code for “come hang out.” You are encouraged to attend office hours to ask questions, get help with your labs, talk about careers and graduate school, or chat about something on your mind (whether it is related to this class, academics, or anything else). In addition to things related to Engineering, embedded systems, digital electronics, and microcontrollers, a short (but not comprehensive!) list of things I enjoy talking about are sports (MLB: NY Mets; NFL: Tennessee Titans), running/biking/hiking, life design, time management, or books/essays I’m reading. I am available more often than not, so try dropping me a line via Slack or email if you are having a problem with your lab or want to set up a time. You may also contact the lab assistant(s) for questions when I am not available.</p>
</section>
<section id="communication-policy" class="level2">
<h2 class="anchored" data-anchor-id="communication-policy">Communication Policy</h2>
<p>Please note that I do not always respond immediately to messages. In particular I typically do not check email or Discord between 6:00 pm and 6:00 am on weeknights, and I typically do not check these at all on weekends.</p>
<p>That said,</p>
<ul>
<li>Messages sent on a weekday (Monday-Friday) before 4:00 pm PT will get a response the same day.</li>
<li>Messages sent after 4:00 pm PT Monday-Thursday will get a response the next day.</li>
<li>Messages sent after 4:00 pm PT on Fridays or on the weekend will get a response the following Monday.</li>
</ul>
</section>
<section id="course-learning-objectives" class="level2">
<h2 class="anchored" data-anchor-id="course-learning-objectives">Course Learning Objectives</h2>
<p>The overarching goal of this course is to take you from a basic familiarity and knowledge of digital design with field gate programmable arrays (FPGAs) and microcontrollers programming and expand your capabilities to design, build, and test embedded systems. In particular, by the end of this course you should be able to:</p>
<ul>
<li>Design and implement combinational and sequential circuits on an FPGA.</li>
<li>Use an ARM-based microcontroller to interface with the real world via sensors and actuators.</li>
<li>Build an embedded system project of your own design from the ground up.</li>
<li>Select appropriate embedded hardware for a given task and use the appropriate hardware for a given problem.</li>
<li>Effectively and efficiently debug electrical systems with measurement tools such as an oscilloscope and logic analyzer.</li>
<li>Read and understand complicated datasheets at a level that enables you to incorporate them into your designs.</li>
<li>Clearly communicate technical results in a professional manner through oral presentations and written reports.</li>
</ul>
<p>In broad strokes, MicroPs can be divided into two halves. The first half of the class focuses on giving you fundamental embedded systems concepts in lecture which you learn by experience through seven, hands-on labs. These labs are designed to be loosely structured design projects – you will be given information about the required specifications and some pointers on how to get started, but much of the development process is left open to you. The second half of the class is mainly focused on the project. The project gives you the opportunity to demonstrate independent and creative mastery of embedded system design in teams of two. The specific project task is very open-ended; the only requirement is that the project does something fun or useful and that it meaningfully uses both the FPGA and MCU. In addition to having a series of design review checkpoints, you will give a mid-project presentation to the class and a final presentation of your project when finished. The content of the lectures in the second half of the class focuses on exposing you to more advanced embedded systems concepts and exploring a range of various types of external hardware that may be useful to use in your project.</p>
</section>
<section id="teaching-philosophy" class="level2">
<h2 class="anchored" data-anchor-id="teaching-philosophy">Teaching Philosophy</h2>
<section id="prof.-brake" class="level3">
<h3 class="anchored" data-anchor-id="prof.-brake">Prof.&nbsp;Brake</h3>
<p>The ultimate goal for this course is to help you to master the material and become skilled embedded systems developers who understand how to build a system from a set of requirements and specifications and to verify that the system meets those specifications.</p>
<p>Here are a few of the main pedagogical concepts that you can expect to see in this course.</p>
<ul>
<li><strong>Transparent Teaching</strong> – you should not have to guess what you are supposed to get out of a given activity or assignment in this class. I strive to be as transparent about why we are doing what we are doing. This is most clearly articulated through explicit learning goals that accompany each lecture, lab, or project. If the purpose of anything we do in this class is ever unclear, please ask me and I will be happy to clarify it.</li>
<li><strong>Psychological Safety</strong> – A psychologically safe environment is one where each person feels able to share their questions, concerns, or mistakes without feeling embarrassed or looked down upon by others. Building a psychologically safe classroom is a joint venture which I expect each of you to join with me in pursuing.</li>
<li><strong>A Growth Mindset</strong> – growth can only happen when you reach the end of what you already know. Each of you coming into this class will have different levels of experience with the types of skills that are useful in this class like working with embedded systems, programming, debugging, design, etc. My goal as an instructor is to take you from wherever you are and bring you as far along in your journey as possible. To do that, I encourage each of you to ask questions and push yourself to the edge of your knowledge. It can be frustrating or embarrassing to have questions that you feel you should already have the answer to. You should take these moments as opportunities to ask questions and fill the gaps in your knowledge. In the end, having a growth mindset is strongly linked with deep curiosity about what you are learning and a realization that while being honest about the limits of your understanding might be challenging, embracing that discomfort allows you to grow and improve quickly.</li>
<li><strong>Frequent, Low-stakes Testing</strong> – Research has shown that having frequent opportunities to assess your knowledge is a powerful way to learn and correct any misconceptions. One way that this will take place is through regular in-class quizzes and activities.</li>
<li><strong>Interleaving</strong> – The scheduling of the material is arranged in such a way that you will return to many similar concepts throughout the semester with some time in between. The goal of this is to have you return to familiar concepts after some time away so that you reinforce the material after working on something else. This has been shown to improve long-term retention of the material (see <em>Small Teaching</em> by James Lang if you are curious in learning more).</li>
</ul>
</section>
</section>
<section id="schedule" class="level2">
<h2 class="anchored" data-anchor-id="schedule">Schedule</h2>
<table class="table">
<colgroup>
<col style="width: 24%">
<col style="width: 26%">
<col style="width: 24%">
<col style="width: 24%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Week</th>
<th>Tuesday’s Class</th>
<th>Thursday’s Class</th>
<th>Due</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">8/27</td>
<td>Intro &amp; Analog Behavior of Digital Systems</td>
<td>Combinational and Sequential Logic</td>
<td>(Lab Demos)</td>
</tr>
<tr class="even">
<td style="text-align: center;">9/3</td>
<td>Verilog Coding</td>
<td>Synchronous Design</td>
<td>Lab 1 - Development Board Assembly</td>
</tr>
<tr class="odd">
<td style="text-align: center;">9/10</td>
<td>FPGA Documentation</td>
<td>Architecture &amp; Assembly Review</td>
<td>Lab 2 - Muxed 7-Segment Display</td>
</tr>
<tr class="even">
<td style="text-align: center;">9/17</td>
<td>Assembly Programming</td>
<td>C Programming on an MCU</td>
<td>Lab 3 - Keypad</td>
</tr>
<tr class="odd">
<td style="text-align: center;">9/24</td>
<td>Clock Configuration</td>
<td>Timers</td>
<td>Lab 4 - ARM Assembly Sort</td>
</tr>
<tr class="even">
<td style="text-align: center;">10/1</td>
<td>Serial Interfaces Overview &amp; SPI</td>
<td>UART and the IoT</td>
<td>Lab 5 - Digital Audio</td>
</tr>
<tr class="odd">
<td style="text-align: center;">10/8</td>
<td>PCB Design</td>
<td>Advanced Encryption Standard (AES)</td>
<td>Lab 6 - SPI &amp; The Internet of Things</td>
</tr>
<tr class="even">
<td style="text-align: center;">10/15</td>
<td><strong>Happy Fall Break! No class</strong></td>
<td>Project Kickoff</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">10/22</td>
<td>Graphics and Displays</td>
<td>Motors and Speakers</td>
<td>Lab 7 - AES &amp; Project Proposal</td>
</tr>
<tr class="even">
<td style="text-align: center;">10/29</td>
<td>Interrupts Pt. 1</td>
<td>Interrupts Pt. 2</td>
<td>Proposal Debriefs</td>
</tr>
<tr class="odd">
<td style="text-align: center;">11/5</td>
<td>Presentations</td>
<td>Presentations</td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">11/12</td>
<td>The Fast Fourier Transform (FFT)</td>
<td>Project Status Report and Demo</td>
<td>Project Status Reports &amp; Demo</td>
</tr>
<tr class="odd">
<td style="text-align: center;">11/19</td>
<td>Emerging Topics in Embedded Systems</td>
<td><strong>Happy Thanksgiving! No class</strong></td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: center;">11/26</td>
<td>Introduction to Real Time Operating Systems</td>
<td>Direct Memory Access</td>
<td></td>
</tr>
<tr class="odd">
<td style="text-align: center;">12/3</td>
<td>TBD</td>
<td>Interview Questions &amp; Life Beyond Mudd</td>
<td>Project Checkoffs, Report, Demo Day</td>
</tr>
</tbody>
</table>
</section>
<section id="recommended-texts" class="level2">
<h2 class="anchored" data-anchor-id="recommended-texts">Recommended Texts</h2>
<p>I assume you have a solid grasp of digital design at the level of E85; review Digital Design and Computer Architecture, ARM Edition (<a href="https://ccl.on.worldcat.org/oclc/900028206">link</a>) if you feel rusty on a topic. We will not be closely following a textbook, but you may find The Definitive Guide to ARM® Cortex®-M3 and Cortex®-M4 Processors by Joseph Yiu to be a helpful, comprehensive reference for the microcontroller. An electronic version of the book is available through the library (<a href="https://ccl.on.worldcat.org/oclc/868231734">link</a>).</p>
</section>
<section id="grading" class="level2">
<h2 class="anchored" data-anchor-id="grading">Grading</h2>
<p>The grading for this class is based on a variation of specifications-grading and may be a bit different than what you have seen in other classes. If you have questions or concerns, please contact the instructors for clarification.</p>
<p>The grade you earn in the class will be determined based the number of deliverables you successfully complete and the level of polish to which you complete them across three different bundles:</p>
<ol type="1">
<li>Labs</li>
<li>Project</li>
<li>In-class participation.</li>
</ol>
<p>Each assignment will contain a list of specifications (or specs) for two levels of completeness: proficiency and excellence. The list of specifications are designed to be aligned with the learning goals for the assignment. The proficiency specifications will indicate the level of completeness that demonstrates that you have achieved a level of comfort with the material in the assignment such that you would be able to implement the learning outcomes in a different setting. Excellence specs are above and beyond proficiency specs. Meeting the excellence specs for an assignment indicates that you have not only achieved the basic level of expected knowledge of the material, but have truly understood and are able to apply the techniques with deftness.</p>
<p>The table below describes the levels that you need to meet in each bundle (i.e., column) in order to earn the grade in the respective row. To earn the grade in a given row, you must meet <strong>all</strong> the criteria in that row. In other words, to get a B, you must complete the following:</p>
<ul>
<li>All 7 labs to the proficiency specs and 4 of those labs must meet the excellence specs.</li>
<li>All 5 project elements must meet proficiency specs and 3 of them must meet the excellence specs.</li>
</ul>
<table class="table">
<thead>
<tr class="header">
<th>Grade</th>
<th>Labs</th>
<th>Project</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>F</td>
<td>P <span class="math inline">\(\lt\)</span> 5</td>
<td>P <span class="math inline">\(\lt\)</span> 4</td>
</tr>
<tr class="even">
<td>D</td>
<td>P <span class="math inline">\(\geq\)</span> 5, E <span class="math inline">\(\geq\)</span> 1</td>
<td>P <span class="math inline">\(\geq\)</span> 4</td>
</tr>
<tr class="odd">
<td>C</td>
<td>P <span class="math inline">\(\geq\)</span> 6, E <span class="math inline">\(\geq\)</span> 2</td>
<td>P <span class="math inline">\(\geq\)</span> 4, E <span class="math inline">\(\geq\)</span> 2</td>
</tr>
<tr class="even">
<td>B</td>
<td>P = 7, E <span class="math inline">\(\geq\)</span> 4</td>
<td>P = 5, E <span class="math inline">\(\geq\)</span> 3</td>
</tr>
<tr class="odd">
<td>A</td>
<td>P = 7, E <span class="math inline">\(\geq\)</span> 5</td>
<td>P = 5, E <span class="math inline">\(\geq\)</span> 4</td>
</tr>
</tbody>
</table>
<p>Performance on the labs and project is weighted equally. +/- grades will be assigned for situations in which your performance falls between the conditions for each row.</p>
<p>In-class participation is also an important part of practicing and learning this material and can help to boost your grade in the class by up to half a letter grade (e.g., from a B- to a B or B+ to an A-). As one example, if you meet the requirements for an A in the labs bundle but the requirements for a B in the project bundle, you can expect to earn either a B+ or A-. In these situations, your in-class participation is a contributing factor to split the difference between the - of the higher tier and the + of the lower tier.</p>
<section id="tokens" class="level3">
<h3 class="anchored" data-anchor-id="tokens">Tokens</h3>
<p>In general, each deliverable must be submitted before it’s due date. However, you will have several tokens which will allow you to exercise an option for an extension on an assignment or revisit a previous assignment to raise it from it’s initially submitted level to a higher level of specifications.</p>
<section id="extension-token-quantity-1" class="level4">
<h4 class="anchored" data-anchor-id="extension-token-quantity-1">Extension token (quantity: 1)</h4>
<p>This token may be used for a one-week extension on any lab with no penalty. For example, you could choose to use this token to submit your lab 3 at the same time as lab 4.</p>
</section>
<section id="retry-tokens-quantity-2" class="level4">
<h4 class="anchored" data-anchor-id="retry-tokens-quantity-2">Retry tokens (quantity: 2)</h4>
<p>You may use these tokens to revise a previously submitted assignment to try to meet a higher level of specifications. These tokens may always be used to attempt to upgrade an assignment from proficiency to excellence specs. In general, they <strong>may not</strong> be used to reassess an assignment which did not meet proficiency specs when it was originally due. The instructors reserve the right to waive this policy at their discretion (e.g., to allow a lab which nearly meets proficiency specs by the due date to be reassessed).</p>
</section>
</section>
</section>
<section id="course-policies" class="level2">
<h2 class="anchored" data-anchor-id="course-policies">Course Policies</h2>
<section id="ai-policy" class="level3">
<h3 class="anchored" data-anchor-id="ai-policy">AI Policy</h3>
<p>AI tools like ChatGPT are an emerging and active area of research. Following the public release of ChatGPT in late 2022, large language models (LLMs) hit the mainstream and have been the subject of robust conversations about how educators and students should approach these tools. AI tools, whether in the form of an LLM or something else, are likely to have an impact on your career and work as an engineer. In this class, we will be approaching AI tools with a posture of cautious engagement. The guiding principle for the use of AI tools is that these tools must be used in the spirit of the assignment.</p>
<p>To frame the discussion about AI in this class, here are three general ways that educators are approaching AI use in their classes<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>:</p>
<ol type="1">
<li>Ban</li>
<li>Embrace</li>
<li>Critical exploration</li>
</ol>
<p>Each of these approaches has its merits in specific circumstances. The key is to ensure that the use of the tool is aligned with the overarching learning outcomes of the course or assignment. There are some instances where AI use is not aligned with learning. For example, it is important to understand the fundamentals of how to write accurate code in a Hardware Description Language (HDL) such as the SystemVerilog language we will learn in this class. Relying on a Large Language Model (LLM) like ChatGPT to write the code for you will supplant rather than support your ability to understand the important concepts for designing digital systems. Not to mention that ChatGPT, based on my experience, <a href="https://chat.openai.com/share/fc5e04e7-f19b-4aec-90b2-0b3a302f41f0">writes really bad HDL</a>!<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<p>There are other instances where an embrace of AI is worth considering. Maybe after building your own general understanding of SystemVerilog you want to experiment with an LLM to see if it can generate a template design that you can slightly modify for a new design. In this situation, the LLM is acting more like an advanced auto-complete tool. The key is that <strong>you</strong> possess the expertise to be able to understand and analyze whether the output is correct. In the spirit of full embrace, you may try to have an LLM write your code for you, comment your code, or write descriptions of what the code is doing. Embracing the AI tool full on will help you to quickly generate text, but the quality of the output may end up being incorrect or of poor quality. User beware.</p>
<p>The third approach is in the middle of the previous two, approaching AI tools like LLMs with a cautious optimism and an eye towards reflection. Here, a user embraces the tool and engages their curiosity to prototype new ways in which the tool might be useful but is continually asking questions and reflecting on the approach and how the design of the tools influences the applications for which they are well suited. By diving deeply into how these tools work, analyzing their areas of strength and weakness, and experimenting with them with an attitude of critical curiosity, one can learn how these tools might be a valuable tool in the toolkit and other situations when they are best avoided. This approach also opens up space to ask questions about the array of ethical issues that must be discussed, including but not limited to: data privacy concerns, the environmental impacts of training these systems, alignment of AI tools with human values, bias, and the potentially dangerous ways in which these tools can be used.</p>
<p>My own approach to AI use is that when we choose to use it, we should be using it as a <a href="https://joshbrake.substack.com/p/reframing-the-disruption-of-chatgpt?utm_source=%2Fsearch%2Fladder%2520crutch&amp;utm_medium=reader2">ladder and not a crutch</a>. If and when we choose to use AI tools we should use it to extend our abilities but not in a way that might create unhealthy dependencies on it (e.g., not learning foundational programming concepts because ChatGPT can write the code for you). If you use AI tools in an unhealthy way, you are likely to be doing yourself more harm than good. In this vein, it is similar to other forms of academic dishonesty that supplant the learning intended as part of a given assignment or assessment.</p>
<p>If you have any questions or are curious about exploring AI tools in this class, please reach out and ask. Our default posture will be the third approach of reflective engagement. In most instances this means that we will avoid the use of these tools since they will often be in direct opposition to the goals of learning the fundamental concepts. If you would like to use these tools in an assignment, please reach out to me and I would be happy to talk with you about it. In general you will be required to submit a quick justification of</p>
<ol type="1">
<li>What you would like to use the tool for.</li>
<li>Why you think the use of AI is aligned with and not opposed to the learning goals of the assignment.</li>
<li>A short reflection, submitted with the assignment, on your experience using AI on the assignment and what you learned.</li>
</ol>
</section>
</section>
<section id="lab-kit" class="level2">
<h2 class="anchored" data-anchor-id="lab-kit">Lab Kit</h2>
<p>While there is not a textbook to purchase, you will need to buy a lab kit. The fee is $75 in Claremont Cash, and should be paid by filling out the Google Form (<a href="https://docs.google.com/forms/d/e/1FAIpQLSfkSvr7ZvA5IB_2lIqxKDtYl-Hh2quc9mfJ8w6jdqEOeKgECw/viewform">link</a>) which authorizes Sydney Torrey in the Engineering office to charge your Claremont Cash account. Once you have paid for your kit via the form, see Sam Abdelmuati in the stockroom to pick up your kit. If you cook your board this semester, you can buy and rebuild a replacement, but ask the instructor for help troubleshooting first. You’ll also check out a large breadboard from the stockroom, and will need to return it at the end of the semester.</p>
<p>The kit fee can be waived in cases of financial hardship. To request a waiver fill out the form here (<a href="https://docs.google.com/forms/d/e/1FAIpQLScutHRsoCUwPymkoE0FGqPE0Zn2hGHWejtTKPlSqVMBmSgW7w/viewform">link</a>). Course instructors will not know about waiver requests.</p>
</section>
<section id="lab-access" class="level2">
<h2 class="anchored" data-anchor-id="lab-access">Lab Access</h2>
<p>The Digital Lab (Parson B183) is available for you to use when working on your labs. The current door code will be shared on Slack when it is available. There are Windows PCs available with <a href="https://www.segger.com/downloads/embedded-studiohttps://www.segger.com/downloads/embedded-studio">SEGGER Embedded Studio for ARM</a> and <a href="https://www.latticesemi.com/Products/DesignSoftwareAndIP/FPGAandLDS/Radiant">Lattice Radiant</a> installed along with the drivers required to program your board. The lab also has the electronics assembly equipment needed to solder, oscilloscopes and power supplies at the lab stations, and a lab cabinet with various resistors and some of the parts like wires, seven-segment LEDs, and transistors you will need for some of your labs. You are welcome to use these while working on your lab, but please make sure to return the components to the lab cabinet when you are done.</p>
<p>In addition, the software we will be using for programming the MCU (SEGGER Embedded Studio for ARM) and FPGA (Lattice Radiant) are free and supported on a variety of platforms if you wish to download them on your personal computer. SEGGER Embedded Studio is supported on Windows, MacOS, and Linux and Lattice Radiant is supported on Windows and Linux. If you are running MacOS, you can download and virtualize Windows using VMWare Fusion Player under a Personal Use License for free. More details and download links can be found here (<a href="https://customerconnect.vmware.com/web/vmware/evalcenter?p=fusion-player-personal">link</a>).</p>
</section>
<section id="honor-code-violations" class="level2">
<h2 class="anchored" data-anchor-id="honor-code-violations">Honor Code Violations</h2>
<p>Students in this class are expected to follow the HMC honor code. An honor code policy appears below and prescribes behavior that is considered honorable, so read those maxims and follow them closely. Any honor code violations will be handled through JB.</p>
</section>
<section id="honor-code-policy" class="level2">
<h2 class="anchored" data-anchor-id="honor-code-policy">Honor Code Policy</h2>
<ol type="1">
<li>All students enrolled in this course are bound by the HMC Honor Code. More information on the HMC Honor Code can be found in the HMC Student Handbook.</li>
<li>It is your responsibility to determine whether your actions adhere to the HMC Honor Code. If this document does not clarify the legitimacy of a particular action, you should contact the course instructor and request clarification.</li>
<li>Work you submit for individual assignments should be your own, and you should complete all assignments based on your own understanding of the underlying material. If you work with, or receive help from, another individual on an assignment, provide a written acknowledgement in complete sentences that includes the person’s name and the nature of the help.</li>
<li>This document is not meant to be an exhaustive list of every possible Honor Code violation. Infractions not explicitly mentioned here may still violate the Honor Code.</li>
<li><strong>Boundaries of Collaboration</strong> Verbal collaboration with other students on individual assignments is encouraged AFTER you have given serious thought to each component yourself. However, all submitted written work should be written by yourself individually, and not a collaborative effort or copied from a common source (e.g., a chalkboard). It is NOT acceptable to work on labs in lockstep with another classmate.</li>
<li><strong>Use of Computer Software</strong> The use of graphing calculators and computer software to aid in course work is acceptable, as long as it does not substitute for an understanding of the course material.</li>
<li><strong>Use of Web Resources</strong> The use of Internet resources to aid in course work is acceptable, as long it does not substitute for an understanding of the course material. Plagiarism and direct copying from online (or any other) sources is strictly prohibited.</li>
<li><strong>Use of Your Own Work from Previous Semesters</strong> If you have previously attempted this course, you may resubmit your work from previous semesters as this semester’s coursework, as long as you understand the underlying material.</li>
<li><strong>Use of Other Course Resources from Previous Semesters</strong> You may not reference assignments (labs, problem sets, activities) of this course from previous semesters.</li>
<li><strong>Retention of Course Resources</strong> Assignments and exams from this course may not be committed to dorm repositories or otherwise used to help future students.</li>
</ol>
</section>
<section id="inclusiveness-and-harassment" class="level2">
<h2 class="anchored" data-anchor-id="inclusiveness-and-harassment">Inclusiveness and Harassment</h2>
<p>We do difficult work in this class and everyone should feel comfortable engaging with the material. We explicitly want you to feel safe doing this work, so it is worth stating that the instructors are committed to making the class a safe space for everyone regardless of race, gender, ethnicity, sexual orientation, religion, and academic history. If you feel that you are experiencing a hostile environment, speak to an instructor immediately.</p>
</section>
<section id="educational-accessibility" class="level2">
<h2 class="anchored" data-anchor-id="educational-accessibility">Educational Accessibility</h2>
<p>HMC is committed to providing an inclusive learning environment and support for all students. Students with a disability (including mental health, chronic or temporary medical conditions) who may need some accommodation in order to fully participate in this class are encouraged to contact Educational Accessibility Services at <a href="mailto:ability@g.hmc.edu">ability@g.hmc.edu</a> to request accommodations. Students from the other Claremont Colleges should contact their home college’s disability resources officer.</p>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>See <a href="https://marcwatkins.substack.com/p/have-an-ai-policy-so-does-everyone">this article</a> from <a href="https://marcwatkins.org">Marc Watkins</a> for a more in-depth discussion.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>This makes sense because most of the HDL code you find on the internet is pretty lousy. Garbage in, garbage out.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/HMC-E155\.github\.io\/HMC-E155\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>